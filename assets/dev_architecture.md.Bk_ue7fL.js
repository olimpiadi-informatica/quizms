import{_ as i,C as s,c as n,o as t,a0 as o,b as l,w as r,a as d,G as h,a1 as c}from"./chunks/framework.CWt1dO41.js";const S=JSON.parse('{"title":"Architecture","description":"","frontmatter":{},"headers":[],"relativePath":"dev/architecture.md","filePath":"dev/architecture.md"}'),u={name:"dev/architecture.md"};function p(m,e,f,b,g,A){const a=s("Mermaid");return t(),n("div",null,[e[1]||(e[1]=o('<h1 id="architecture" tabindex="-1">Architecture <a class="header-anchor" href="#architecture" aria-label="Permalink to &quot;Architecture&quot;">​</a></h1><p>QuizMS is a framework that allows the generation of static websites that can be hosted on services like Github Pages, Firebase Hosting, etc. QuizMS does not have a server and does not support server-side rendering; all logic occurs either client-side or during compilation.</p><p>This makes database and authentication management a bit more complicated. Currently, these parts are handled through Firestore and Firebase Authentication, which can be used directly client-side without the need for a server. Although QuizMS was designed to be independent of the backend used, currently the only supported backend is Firebase, and the internal logic is optimized to work with Firestore&#39;s data model.</p><h2 id="used-libraries" tabindex="-1">Used Libraries <a class="header-anchor" href="#used-libraries" aria-label="Permalink to &quot;Used Libraries&quot;">​</a></h2><p>QuizMS is mainly based on <a href="https://vitejs.dev/" target="_blank" rel="noreferrer">Vite</a>: a bundler that allows deep customization of the build process.</p><p>The other main libraries used are:</p><ul><li><a href="https://react.dev/" target="_blank" rel="noreferrer">React</a>: UI.</li><li><a href="https://tailwindcss.com/" target="_blank" rel="noreferrer">Tailwind CSS</a>: CSS.</li><li><a href="https://mdxjs.com/" target="_blank" rel="noreferrer">MDX</a> with <a href="https://unifiedjs.com/learn/guide/introduction-to-unified/" target="_blank" rel="noreferrer">remark/rehype/recma</a> plugins: Markdown problem parsing.</li><li><a href="https://developers.google.com/blockly" target="_blank" rel="noreferrer">Blockly</a>: Block code.</li><li><a href="https://lodash.com/" target="_blank" rel="noreferrer">Lodash</a>: Generic utilities.</li><li><a href="https://lucide.dev/" target="_blank" rel="noreferrer">Lucide</a>: Icons.</li><li><a href="https://github.com/molefrog/wouter" target="_blank" rel="noreferrer">Wouter</a>: Routing.</li><li><a href="https://zod.dev/" target="_blank" rel="noreferrer">Zod</a>: Data validation.</li></ul><h2 id="statements" tabindex="-1">Statements <a class="header-anchor" href="#statements" aria-label="Permalink to &quot;Statements&quot;">​</a></h2><p>Statements are written in Markdown or MDX and are transformed into JavaScript via <code>@mdx-js/mdx</code>. The transformation occurs in multiple phases:</p><ul><li>the file is parsed into <a href="https://github.com/syntax-tree/mdast" target="_blank" rel="noreferrer">MDAST</a> (Markdown Abstract Syntax Tree);</li><li><a href="https://github.com/remarkjs/remark" target="_blank" rel="noreferrer">remark</a> plugins are applied;</li><li>the MDAST is transformed into <a href="https://github.com/syntax-tree/hast" target="_blank" rel="noreferrer">HAST</a> (HTML Abstract Syntax Tree);</li><li><a href="https://github.com/rehypejs/rehype" target="_blank" rel="noreferrer">rehype</a> plugins are applied;</li><li>the HAST is transformed into <a href="https://github.com/estree/estree" target="_blank" rel="noreferrer">ESTREE</a> (ECMAScript Abstract Syntax Tree);</li><li><a href="https://mdxjs.com/docs/extending-mdx/#list-of-plugins" target="_blank" rel="noreferrer">recma</a> plugins are applied;</li><li>the ESTREE is transformed into JavaScript;</li><li>the JavaScript code of each problem is combined into a single JavaScript file.</li></ul><p>During development, the code undergoes no further transformations and is executed in the browser.</p><p>During contests, however, the code undergoes additional steps:</p><ul><li>the code <strong>is executed</strong> using QuizMS&#39;s JSX runtime, which again produces an ESTREE of the code itself;</li><li>sensitive parts of the code are removed (e.g., solutions);</li><li>the order of questions and answers is changed based on the chosen variant;</li><li>the ESTREE is transformed into JavaScript and minimized;</li><li>the code is saved to the database.</li></ul><p>The code is executed to remove all superfluous JavaScript code and produces completely static code without variables, loops, and selections. Although this part is essential for removing all sensitive information from the code, it does not allow for interactive code, for example with Blockly.</p>',14)),(t(),l(c,null,{default:r(()=>[h(a,{id:"mermaid-144",class:"mermaid",graph:"flowchart%20LR%0A%20%20%20%20subgraph%20plugin%20remark%0A%20%20%20%20%20%20%20%20md1%5BMDAST%5D%0A%20%20%20%20%20%20%20%20md2%5BMDAST%5D%0A%20%20%20%20%20%20%20%20mdc%5BMDAST%5D%0A%20%20%20%20end%0A%20%20%20%20subgraph%20plugin%20rehype%0A%20%20%20%20%20%20%20%20h1%5BHAST%5D%0A%20%20%20%20%20%20%20%20h2%5BHAST%5D%0A%20%20%20%20%20%20%20%20hc%5BHAST%5D%0A%20%20%20%20end%0A%20%20%20%20subgraph%20plugin%20recma%0A%20%20%20%20%20%20%20%20es1%5BESTREE%5D%0A%20%20%20%20%20%20%20%20es2%5BESTREE%5D%0A%20%20%20%20%20%20%20%20esc%5BESTREE%5D%0A%20%20%20%20end%0A%20%20%20%20subgraph%20vite%0A%20%20%20%20%20%20%20%20bundle%5Bstatement.jsx%5D%0A%20%20%20%20end%0A%0A%20%20%20%20q1%5Bquestion1.mdx%5D%20--%3E%20md1%0A%20%20%20%20q2%5Bquestion2.mdx%5D%20--%3E%20md2%0A%20%20%20%20q3%5B...%5D%0A%20%20%20%20c%5Bcontest.mdx%5D%20--%3E%20mdc%0A%0A%20%20%20%20md1%20--%3E%20h1%0A%20%20%20%20md2%20--%3E%20h2%0A%20%20%20%20mdc%20--%3E%20hc%0A%0A%20%20%20%20h1%20--%3E%20es1%0A%20%20%20%20h2%20--%3E%20es2%0A%20%20%20%20hc%20--%3E%20esc%0A%0A%20%20%20%20es1%20--%3E%20bundle%0A%20%20%20%20es2%20--%3E%20bundle%0A%20%20%20%20esc%20--%3E%20bundle%0A%0A%20%20%20%20subgraph%20plugin%20vite%0A%20%20%20%20%20%20%20%20f1%5Bfig.asy%5D%20--%3E%20bundle%0A%20%20%20%20%20%20%20%20f2%5Bimage.svg%5D%20--%3E%20bundle%0A%20%20%20%20%20%20%20%20f3%5B...%5D%0A%20%20%20%20end%0A%0A%20%20%20%20bundle%20--%3E%20dev%5Bdevelopment%2Ftraining%20mode%5D%0A%0A%20%20%20%20subgraph%20shuffle%0A%20%20%20%20%20%20%20%20bundle%20--%20JSX%20runtime%20--%3E%20esb%5BESTREE%5D%0A%20%20%20%20end%0A%0A%20%20%20%20esb%5BESTREE%5D%20--%3E%20js%5Bstatement.js%5D%0A%20%20%20%20js%20--%3E%20Firestore%0A%20%20%20%20js%20--%3E%20PDF%0A"})]),fallback:r(()=>[...e[0]||(e[0]=[d(" Loading... ",-1)])]),_:1}))])}const k=i(u,[["render",p]]);export{S as __pageData,k as default};
